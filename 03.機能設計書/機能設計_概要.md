# TastyNote 機能設計書 - 概要編（更新版）

## 1. システム概要

### 1.1 システムの目的と位置づけ
- 個人開発のポートフォリオとして位置づけられるWebアプリケーション
- 飲食店の情報を効率的に管理・共有できるプラットフォーム
- 小規模での運用（想定ユーザー30名程度）を前提とした設計

### 1.2 基本方針
- 商用利用は想定しない
- 低予算での開発・運用を実現
- メンテナンスコストを最小限に抑制
- シンプルな機能構成の維持
- モバイルファーストの設計（8割以上がスマートフォンからの利用を想定）

### 1.3 対象ユーザー
- 主なターゲット：20-40代のグルメ好き
- 利用シーン：
  1. お気に入りの店を整理したい人
  2. 友人と店の情報を共有したい人
  3. 行きたい店をリストアップしたい人
  4. 店舗情報を地図上で管理したい人

## 2. 開発計画

### 2.1 開発フェーズ
#### Phase 1: コア機能（2ヶ月）
- ユーザー認証
  - メールアドレス認証
  - Google OAuth連携
- 店舗検索・登録
  - Google Places API連携
  - 地図表示機能
- 基本的なフォルダ管理
  - フォルダのCRUD操作
  - お気に入りフォルダ

#### Phase 2: 追加機能（1.5ヶ月）
- 写真管理機能
  - 画像アップロード
  - 画像最適化処理
- フォルダ共有機能
  - 共有URL生成
  - アクセス制御
- メモ機能の拡張
  - テキストメモ
  - 文字数管理

#### Phase 3: 最適化（1ヶ月）
- パフォーマンス最適化
  - レスポンス改善
  - 画像最適化
- エラー処理の改善
  - エラーハンドリング
  - ユーザーフィードバック
- UIの改善
  - レスポンシブ対応
  - アクセシビリティ

### 2.2 技術スタック

#### 2.2.1 フロントエンド
- Nuxt.js 3.x
  - Vue 3
  - TypeScript
  - Composition API
- 状態管理：Pinia
- UIフレームワーク：TailwindCSS

#### 2.2.2 バックエンド
- Laravel 10
  - PHP 8.1.29
  - Composer 2.x
- ミドルウェア
  - Apache 2.4
  - PHP-FPM

#### 2.2.3 データストア
- MySQL 5.7（Xserverの提供するもの）

#### 2.2.4 外部サービス
- Google Maps Platform
  - Maps JavaScript API
  - Places API
  - Geocoding API
- Google OAuth

## 3. 非機能要件

### 3.1 パフォーマンス要件
- 初期表示速度
  - First Contentful Paint: 2秒以内
  - Time to Interactive: 3秒以内
  - Largest Contentful Paint: 2.5秒以内

- API応答時間
  - 通常リクエスト：1秒以内
  - 画像処理：3秒以内

### 3.2 同時接続対応
- 通常時：5ユーザー
- ピーク時：10ユーザー
- 瞬間最大：15ユーザー

### 3.3 データ容量制限
- 1ユーザーあたり：150MB
- 画像制限
  - 1店舗あたり：最大5枚
  - 1枚あたり：1MB
- メモ文字数：500文字

## 4. セキュリティ要件

### 4.1 認証・認可
- JWT認証の採用
  - アクセストークン（1時間）
  - リフレッシュトークン（14日）
- アカウントロック
  - 10回連続ログイン失敗でロック
  - 30分後に自動解除

### 4.2 データ保護
- ユーザーデータの暗号化
- HTTPS通信の強制
- XSS対策の実施
- CSRF対策の実施

## 5. 運用・監視

### 5.1 監視項目
- 基本監視
  - サーバー死活監視
  - エラーログ監視
- パフォーマンス監視
  - レスポンスタイム
  - リソース使用率

### 5.2 バックアップ方針
- データベース
  - 日次バックアップ
  - 1週間分保持
- ユーザーファイル
  - 画像ファイルの定期バックアップ
  - 重要設定ファイルの保護

### 5.3 メンテナンス方針
- 定期メンテナンス
  - 月1回実施
  - ログファイル整理
  - 不要データ削除
- 緊急メンテナンス
  - 重大な不具合発生時
  - セキュリティ脆弱性対応時